/*!50001 ALTER ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `cuadrecajafiscalventas` AS  SELECT  CAST(SUBSTR(`bdcuadre`.`Id`,8,100) AS SIGNED) AS `ordenId`,`bdcuadre`.`Id` AS `Id`, IF(`totalescuadrecontado`.`SumaDesubtotal` IS NULL,0,`totalescuadrecontado`.`SumaDesubtotal`) AS `brutoContado`, IF(`totalescuadrecontado`.`SumaDetotal` IS NULL,0,`totalescuadrecontado`.`SumaDetotal`) AS `netoContado`, IF(`totalescuadrecontado`.`SumaDedescuentos` IS NULL,0,`totalescuadrecontado`.`SumaDedescuentos`) AS `descuentosContado`, IF(`totalescuadrecredito`.`SumaDesubtotal` IS NULL,0,`totalescuadrecredito`.`SumaDesubtotal`) AS `brutoCredito`, IF(`totalescuadrecredito`.`SumaDetotal` IS NULL,0,`totalescuadrecredito`.`SumaDetotal`) AS `netoCredito`, IF(`totalescuadrecredito`.`SumaDedescuentos` IS NULL,0,`totalescuadrecredito`.`SumaDedescuentos`) AS `descuentosCredito`, IF(`totalanulacioncuadre`.`totalAnulacionCuadre` IS NULL,0,`totalanulacioncuadre`.`totalAnulacionCuadre`) AS `totalAnulacion`, `bdcuadre`.`ncRealizadas` AS `ncRealizadas`, IF(`totalanulacioncuadre`.`contAnuladas` IS NULL,0,`totalanulacioncuadre`.`contAnuladas`) AS `contAnuladas`, `bdcuadre`.`contNcRealizadas` AS `contNcRealizadas`,`bdcuadre`.`contContado` AS `contContado`,`bdcuadre`.`contCredito` AS `contCredito`, `bdcuadre`.`sisteCredito` AS `sisteCredito`, IF( IF(`totalescuadrecontado`.`SumaDesubtotal` IS NULL,`totalescuadrecredito`.`SumaDesubtotal` - `bdcuadre`.`ncRealizadas`, IF(`totalescuadrecredito`.`SumaDesubtotal` IS NULL,`totalescuadrecontado`.`SumaDesubtotal` - `bdcuadre`.`ncRealizadas`, `totalescuadrecontado`.`SumaDesubtotal` + `totalescuadrecredito`.`SumaDesubtotal` - `bdcuadre`.`ncRealizadas`)) IS NULL,0, IF(`totalescuadrecontado`.`SumaDesubtotal` IS NULL,`totalescuadrecredito`.`SumaDesubtotal` - `bdcuadre`.`ncRealizadas`, IF(`totalescuadrecredito`.`SumaDesubtotal` IS NULL,`totalescuadrecontado`.`SumaDesubtotal` - `bdcuadre`.`ncRealizadas`, `totalescuadrecontado`.`SumaDesubtotal` + `totalescuadrecredito`.`SumaDesubtotal` - `bdcuadre`.`ncRealizadas`)) ) AS `brutoVenta`, IF( IF(`totalescuadrecontado`.`SumaDetotal` IS NULL,`totalescuadrecredito`.`SumaDetotal` - `bdcuadre`.`ncRealizadas`, IF(`totalescuadrecredito`.`SumaDetotal` IS NULL,`totalescuadrecontado`.`SumaDetotal` - `bdcuadre`.`ncRealizadas`,`totalescuadrecontado`.`SumaDetotal` + `totalescuadrecredito`.`SumaDetotal` - `bdcuadre`.`ncRealizadas`))  IS NULL,0, IF(`totalescuadrecontado`.`SumaDetotal` IS NULL,`totalescuadrecredito`.`SumaDetotal` - `bdcuadre`.`ncRealizadas`, IF(`totalescuadrecredito`.`SumaDetotal` IS NULL,`totalescuadrecontado`.`SumaDetotal` - `bdcuadre`.`ncRealizadas`,`totalescuadrecontado`.`SumaDetotal` + `totalescuadrecredito`.`SumaDetotal` - `bdcuadre`.`ncRealizadas`))) AS `netoVenta`, IF( IF(`totalescuadrecontado`.`SumaDedescuentos` IS NULL,`totalescuadrecredito`.`SumaDedescuentos`, IF(`totalescuadrecredito`.`SumaDedescuentos` IS NULL,`totalescuadrecontado`.`SumaDedescuentos`,`totalescuadrecontado`.`SumaDedescuentos` + `totalescuadrecredito`.`SumaDedescuentos`)) IS NULL , 0, IF(`totalescuadrecontado`.`SumaDedescuentos` IS NULL,`totalescuadrecredito`.`SumaDedescuentos`, IF(`totalescuadrecredito`.`SumaDedescuentos` IS NULL,`totalescuadrecontado`.`SumaDedescuentos`,`totalescuadrecontado`.`SumaDedescuentos` + `totalescuadrecredito`.`SumaDedescuentos`)) )  AS `totalDescuentoVenta`, `bdcuadre`.`contContado` + `bdcuadre`.`contCredito` +  IF(`primeroultimonc`.`contNc` IS NULL,0,`primeroultimonc`.`contNc`) +  IF(`totalanulacioncuadre`.`contAnuladas` IS NULL,0,`totalanulacioncuadre`.`contAnuladas`) AS `contVentas`, IF(`totalescuadresepare`.`SumaDesubtotal` IS NULL,0,`totalescuadresepare`.`SumaDesubtotal`) AS `brutoSepare`, IF(`totalescuadresepare`.`SumaDetotal` IS NULL,0,`totalescuadresepare`.`SumaDetotal`) AS `netoSepare`  FROM (((((((`bdcuadre`  LEFT JOIN `bdusuario` ON(`bdcuadre`.`usuario` = `bdusuario`.`usuario`))  LEFT JOIN `ivadiscriminadocuadres` ON(`ivadiscriminadocuadres`.`red` = `bdcuadre`.`Id`))  LEFT JOIN `primeroultimonc` ON(`bdcuadre`.`Id` = `primeroultimonc`.`cuadre`))  LEFT JOIN `totalescuadrecontado` ON(`bdcuadre`.`Id` = `totalescuadrecontado`.`red`))  LEFT JOIN `totalescuadrecredito` ON(`bdcuadre`.`Id` = `totalescuadrecredito`.`red`))  LEFT JOIN `totalanulacioncuadre` ON(`bdcuadre`.`Id` = `totalanulacioncuadre`.`cuadreAnulacion`))  LEFT JOIN `totalescuadresepare` ON(`bdcuadre`.`Id` = `totalescuadresepare`.`red`))  WHERE Id='CUADRE-25' GROUP BY CAST(SUBSTR(`bdcuadre`.`Id`,8,100) AS SIGNED),`bdcuadre`.`Id`, IF(`totalescuadrecontado`.`SumaDesubtotal` IS NULL,0,`totalescuadrecontado`.`SumaDesubtotal`), IF(`totalescuadrecontado`.`SumaDetotal` IS NULL,0,`totalescuadrecontado`.`SumaDetotal`), IF(`totalescuadrecontado`.`SumaDedescuentos` IS NULL,0,`totalescuadrecontado`.`SumaDedescuentos`), IF(`totalescuadrecredito`.`SumaDesubtotal` IS NULL,0,`totalescuadrecredito`.`SumaDesubtotal`), IF(`totalescuadrecredito`.`SumaDetotal` IS NULL,0,`totalescuadrecredito`.`SumaDetotal`), IF(`totalescuadrecredito`.`SumaDedescuentos` IS NULL,0,`totalescuadrecredito`.`SumaDedescuentos`), IF(`totalanulacioncuadre`.`totalAnulacionCuadre` IS NULL,0,`totalanulacioncuadre`.`totalAnulacionCuadre`),`bdcuadre`.`ncRealizadas`, IF(`totalanulacioncuadre`.`contAnuladas` IS NULL,0,`totalanulacioncuadre`.`contAnuladas`),`bdcuadre`.`contNcRealizadas`,`bdcuadre`.`contContado`,`bdcuadre`.`contCredito`,IF(`totalescuadrecontado`.`SumaDesubtotal` IS NULL,`totalescuadrecredito`.`SumaDesubtotal` - `bdcuadre`.`ncRealizadas`,IF(`totalescuadrecredito`.`SumaDesubtotal` IS NULL,`totalescuadrecontado`.`SumaDesubtotal` - `bdcuadre`.`ncRealizadas`,`totalescuadrecontado`.`SumaDesubtotal` + `totalescuadrecredito`.`SumaDesubtotal` - `bdcuadre`.`ncRealizadas`)),IF(`totalescuadrecontado`.`SumaDetotal` IS NULL,`totalescuadrecredito`.`SumaDetotal` - `bdcuadre`.`ncRealizadas`,IF(`totalescuadrecredito`.`SumaDetotal` IS NULL,`totalescuadrecontado`.`SumaDetotal` - `bdcuadre`.`ncRealizadas`,`totalescuadrecontado`.`SumaDetotal` + `totalescuadrecredito`.`SumaDetotal` - `bdcuadre`.`ncRealizadas`)),IF(`totalescuadrecontado`.`SumaDedescuentos` IS NULL,`totalescuadrecredito`.`SumaDedescuentos`, IF(`totalescuadrecredito`.`SumaDedescuentos` IS NULL,`totalescuadrecontado`.`SumaDedescuentos`,`totalescuadrecontado`.`SumaDedescuentos` + `totalescuadrecredito`.`SumaDedescuentos`)),`bdcuadre`.`contContado` + `bdcuadre`.`contCredito` +  IF(`primeroultimonc`.`contNc` IS NULL,0,`primeroultimonc`.`contNc`) +  IF(`totalanulacioncuadre`.`contAnuladas` IS NULL,0,`totalanulacioncuadre`.`contAnuladas`), IF(`totalescuadresepare`.`SumaDesubtotal` IS NULL,0,`totalescuadresepare`.`SumaDesubtotal`), IF(`totalescuadresepare`.`SumaDetotal` IS NULL,0,`totalescuadresepare`.`SumaDetotal`)  ORDER BY CAST(SUBSTR(`bdcuadre`.`Id`,8,100) AS SIGNED) */;