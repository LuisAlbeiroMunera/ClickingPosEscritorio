ALTER TABLE bdproductos ADD COLUMN productoFijo VARCHAR(1) DEFAULT 0 COMMENT '0 - producto normal 1- producto diseño admite adiciones y modificacioes 2- producto diseño tiene comportamiento igual que un producto normal ';
ALTER TABLE bdProductosBodega1  ADD COLUMN productoFijo VARCHAR(1) DEFAULT 0 COMMENT '0 - producto normal 1- producto diseño admite adiciones y modificacioes 2- producto diseño tiene comportamiento igual que un producto normal ';
ALTER TABLE bdProductosBodega2  ADD COLUMN productoFijo VARCHAR(1) DEFAULT 0 COMMENT '0 - producto normal 1- producto diseño admite adiciones y modificacioes 2- producto diseño tiene comportamiento igual que un producto normal ';
ALTER TABLE bdProductosBodega3  ADD COLUMN productoFijo VARCHAR(1) DEFAULT 0 COMMENT '0 - producto normal 1- producto diseño admite adiciones y modificacioes 2- producto diseño tiene comportamiento igual que un producto normal ';
ALTER TABLE bdProductosBodega4  ADD COLUMN productoFijo VARCHAR(1) DEFAULT 0 COMMENT '0 - producto normal 1- producto diseño admite adiciones y modificacioes 2- producto diseño tiene comportamiento igual que un producto normal ';
ALTER TABLE bdfactura ADD COLUMN numeroOrdenCompra VARCHAR(250)  COMMENT 'numero de la orden de compra que se relaciona a la factura';
/*!50001 ALTER ALGORITHM=UNDEFINED DEFINER=`click`@`localhost` SQL SECURITY DEFINER VIEW `factura1` AS  SELECT `bdfactura`.`idFactura` AS `idFactura`,CAST(SUBSTR(`bdfactura`.`idFactura`,6,100) AS SIGNED) AS `ordenId`,`bdterceros`.`id` AS `cliente`,`bdfactura`.`vendedor` AS `vendedor`,`bdfactura`.`red` AS `red`,`bdfactura`.`fechaFactura` AS `fechaFactura`,`bdfactura`.`fechaVencimiento` AS `fechaVencimiento`,`bdfactura`.`efectivoGeneral` AS `efectivoGeneral`,`bdfactura`.`ncGeneral` AS `ncGeneral`,`bdfactura`.`chequeGeneral` AS `chequeGeneral`,`bdfactura`.`targetaGeneral` AS `targetaGeneral`,`bdfactura`.`totalGeneral` AS `totalGeneral`,`bdfactura`.`descuentoGeneral` AS `descuentoGeneral`,`bdfactura`.`ivaGeneral` AS `ivaGeneral`,`bdfactura`.`subtotalGeneral` AS `subtotalGeneral`,`bdfactura`.`comprobante` AS `comprobante`,`bdfactura`.`cotizacion` AS `cotizacion`,`bdfactura`.`anulada` AS `anulada`,`bdfactura`.`anula` AS `anula`,`bdfactura`.`credito` AS `credito`,`bdfactura`.`cxc` AS `cxc`,`bdfactura`.`usuario` AS `usuario`,`bdfactura`.`rtIva` AS `rtIva`,`bdfactura`.`rtIca` AS `rtIca`,`bdfactura`.`rtFuente` AS `rtFuente`,`bdfactura`.`otros` AS `otros`,`bdfactura`.`observacion` AS `observacion`,`bdfactura`.`anulada1` AS `anulada1`,`bdfactura`.`anula1` AS `anula1`,`bdfactura`.`credito1` AS `credito1`,`bdfactura`.`cxc1` AS `cxc1`,`bdfactura`.`usuario1` AS `usuario1`,`bdfactura`.`fechaAlerta` AS `fechaAlerta`,`bdfactura`.`terminal` AS `terminal`,`bdfactura`.`estadoGeneral` AS `estadoGeneral`,`bdfactura`.`estado2` AS `estado2`,`bdfactura`.`devuelta` AS `devuelta`,`bdfactura`.`factura` AS `factura`,`bdfactura`.`resolucion` AS `resolucion`,`bdfactura`.`fechaAnulacion` AS `fechaAnulacion`,`bdfactura`.`cuadreAnulacion` AS `cuadreAnulacion`,`bdfactura`.`usuarioAnula` AS `usuarioAnula`,`bdfactura`.`copago` AS `copago`,`bdfactura`.`garantia` AS `garantia`,`bdfactura`.`diasGarantia` AS `diasGarantia`,`bdfactura`.`rango` AS `rango`,`bdfactura`.`terminos` AS `terminos`,`bdfactura`.`notaAnulacion` AS `notaAnulacion`,`bdfactura`.`conseMesa` AS `conseMesa`,`bdfactura`.`producto` AS `producto`,`bdfactura`.`lista` AS `lista`,`bdfactura`.`cantidad` AS `cantidad`,`bdfactura`.`descuento` AS `descuento`,`bdfactura`.`total` AS `total`,`bdfactura`.`iva` AS `iva`,`bdfactura`.`subtotal` AS `subtotal`,`bdfactura`.`NC` AS `NC`,`bdfactura`.`utilidad` AS `utilidad`,`bdfactura`.`concepto` AS `concepto`,`bdfactura`.`porcDescuento` AS `porcDescuento`,`bdfactura`.`descripcion` AS `descripcion`,`bdfactura`.`plu` AS `plu`,`bdfactura`.`cant2` AS `cant2`,`bdfactura`.`estado` AS `estado`,`bdfactura`.`porcIva` AS `porcIva`,`bdfactura`.`tercero` AS `tercero`,`bdfactura`.`utilidad1` AS `utilidad1`,`bdterceros`.`nombre` AS `nombre`,`bdterceros`.`telefono` AS `telefono`,`bdterceros`.`direccion` AS `direccion`,IF(`bdprestamo`.`cuotaInicial` IS NULL,0,`bdprestamo`.`cuotaInicial`) AS `cuotaInicial2`,`bdfactura`.`factura` AS `id2`,`bdproductos`.`ubicacion1` AS `ubicacion1`,`bdproductos`.`referencia` AS `referencia`,`bdproductos`.`unidad` AS `unidad`,`bdfactura`.`subtotalGeneral` - `bdfactura`.`descuentoGeneral` AS `valor3`,IF(`bdfactura`.`producto` = 'PROD-000000032',`bdfactura`.`impuesto`,'0') AS `impuesto`,`bdcxc`.`plazo` AS `plazo`,`bdterceros`.`nombreContacto` AS `nombreContacto`,`bdterceros`.`cargo` AS `cargo`,`bdfactura`.`turno` AS `turno`,`bdproductos`.`grupo` AS `Grupo`,`bdterceros`.`eps` AS `eps`,`bdepsprecargados`.`nombre` AS `nombreEps`,`bdfactura`.`Id` AS `Id`,`bdfactura`.`placa` AS `placa`,`bdplacas`.`tipo` AS `tipo`,`bdparqueaderoautos`.`fIngreso` AS `fIngreso`,`bdparqueaderoautos`.`fSalida` AS `fSalida`,`bdparqueaderoautos`.`hIngreso` AS `hIngreso`,`bdparqueaderoautos`.`hSalida` AS `hSalida`,`bdparqueaderoautos`.`horas` AS `horas`,`bdfactura`.`imei` AS `imei`,`bddetalleproductos`.`color` AS `color`,`bdterceros`.`idSistema` AS `idSistema`,`bdfactura`.`impoconsumo` AS `impoconsumo`,`bdproductos`.`Codigo` AS `Codigo`,`bdfactura`.`totalPropina` AS `totalPropina`,`bdfactura`.`hora` AS `hora`,`bdfactura`.`idProd` AS `idProd`,`bdgrupo`.`nombre` AS `nombreGrupo`,`bdfactura`.`impoGeneral` AS `impoGeneral`,`bdfactura`.`porcImpo` AS `porcImpo`,`bdfactura`.`bodega` AS `bodega`,`bdproductos`.`codContable` AS `codEstandar`,`bdproductos`.`manejaInventario` AS `manejaInventario`,`bdfactura`.`trm` AS `trm`,`bdfactura`.`fechatrm` AS `fechatrm`, `bdfactura`.`numeroOrdenCompra`  AS `numeroOrdenCompra` FROM ((((((((`bdfactura` LEFT JOIN `bdprestamo` ON(`bdfactura`.`idFactura` = `bdprestamo`.`factura`)) LEFT JOIN `bdcxc` ON(`bdfactura`.`factura` = `bdcxc`.`factura2`)) LEFT JOIN `bdplacas` ON(`bdfactura`.`placa` = `bdplacas`.`placa`)) LEFT JOIN `bdparqueaderoautos` ON(`bdparqueaderoautos`.`factura` = `bdfactura`.`factura`)) LEFT JOIN `bddetalleproductos` ON(`bdfactura`.`idProd` = `bddetalleproductos`.`Id`)) LEFT JOIN `bdproductos` ON(`bdfactura`.`producto` = `bdproductos`.`idSistema`)) LEFT JOIN (`bdterceros` LEFT JOIN `bdepsprecargados` ON(`bdepsprecargados`.`Id` = `bdterceros`.`eps`)) ON(`bdfactura`.`cliente` = `bdterceros`.`idSistema`)) LEFT JOIN `bdgrupo` ON(`bdproductos`.`grupo` = `bdgrupo`.`codigo`)) GROUP BY `bdfactura`.`idFactura`,CAST(SUBSTR(`bdfactura`.`idFactura`,6,100) AS SIGNED),`bdterceros`.`id`,`bdfactura`.`vendedor`,`bdfactura`.`red`,`bdfactura`.`fechaFactura`,`bdfactura`.`fechaVencimiento`,`bdfactura`.`efectivoGeneral`,`bdfactura`.`ncGeneral`,`bdfactura`.`chequeGeneral`,`bdfactura`.`targetaGeneral`,`bdfactura`.`totalGeneral`,`bdfactura`.`descuentoGeneral`,`bdfactura`.`ivaGeneral`,`bdfactura`.`subtotalGeneral`,`bdfactura`.`comprobante`,`bdfactura`.`cotizacion`,`bdfactura`.`anulada`,`bdfactura`.`anula`,`bdfactura`.`credito`,`bdfactura`.`cxc`,`bdfactura`.`usuario`,`bdfactura`.`rtIva`,`bdfactura`.`rtIca`,`bdfactura`.`rtFuente`,`bdfactura`.`otros`,`bdfactura`.`anulada1`,`bdfactura`.`anula1`,`bdfactura`.`credito1`,`bdfactura`.`cxc1`,`bdfactura`.`usuario1`,`bdfactura`.`fechaAlerta`,`bdfactura`.`terminal`,`bdfactura`.`estadoGeneral`,`bdfactura`.`estado2`,`bdfactura`.`devuelta`,`bdfactura`.`resolucion`,`bdfactura`.`fechaAnulacion`,`bdfactura`.`cuadreAnulacion`,`bdfactura`.`usuarioAnula`,`bdfactura`.`copago`,`bdfactura`.`garantia`,`bdfactura`.`diasGarantia`,`bdfactura`.`rango`,`bdfactura`.`conseMesa`,`bdfactura`.`producto`,`bdfactura`.`lista`,`bdfactura`.`cantidad`,`bdfactura`.`descuento`,`bdfactura`.`total`,`bdfactura`.`iva`,`bdfactura`.`subtotal`,`bdfactura`.`NC`,`bdfactura`.`utilidad`,`bdfactura`.`porcDescuento`,`bdfactura`.`descripcion`,`bdfactura`.`plu`,`bdfactura`.`cant2`,`bdfactura`.`estado`,`bdfactura`.`porcIva`,`bdfactura`.`tercero`,`bdfactura`.`utilidad1`,`bdterceros`.`nombre`,`bdterceros`.`telefono`,`bdterceros`.`direccion`,IF(`bdprestamo`.`cuotaInicial` IS NULL,0,`bdprestamo`.`cuotaInicial`),`bdfactura`.`factura`,`bdproductos`.`ubicacion1`,`bdproductos`.`referencia`,`bdproductos`.`unidad`,`bdfactura`.`subtotalGeneral` - `bdfactura`.`descuentoGeneral`,IF(`bdfactura`.`producto` = 'PROD-000000032',`bdfactura`.`impuesto`,'0'),`bdterceros`.`nombreContacto`,`bdterceros`.`cargo`,`bdfactura`.`turno`,`bdproductos`.`grupo`,`bdterceros`.`eps`,`bdepsprecargados`.`nombre`,`bdfactura`.`Id`,`bdfactura`.`placa`,`bdplacas`.`tipo`,`bdparqueaderoautos`.`fIngreso`,`bdparqueaderoautos`.`fSalida`,`bdparqueaderoautos`.`hIngreso`,`bdparqueaderoautos`.`hSalida`,`bdparqueaderoautos`.`horas`,`bdfactura`.`imei`,`bddetalleproductos`.`color`,`bdterceros`.`idSistema`,`bdfactura`.`impoconsumo`,`bdproductos`.`Codigo`,`bdgrupo`.`nombre`,`bdfactura`.`impoGeneral`,`bdfactura`.`trm`,`bdfactura`.`fechatrm`,`bdfactura`.`porcImpo`,`bdfactura`.`bodega`,`bdproductos`.`codContable` ORDER BY `bdfactura`.`Id` */;
/*!50001 ALTER ALGORITHM=UNDEFINED DEFINER=`click`@`localhost` SQL SECURITY DEFINER VIEW `factura` AS ( SELECT `factura1`.`idFactura`         AS `idFactura`, `factura1`.`ordenId`           AS `ordenId`, `factura1`.`cliente`           AS `cliente`, `factura1`.`vendedor`          AS `vendedor`, `factura1`.`red`               AS `red`, `factura1`.`fechaFactura`      AS `fechaFactura`, `factura1`.`fechaVencimiento`  AS `fechaVencimiento`, `factura1`.`efectivoGeneral`   AS `efectivoGeneral`, `factura1`.`ncGeneral`         AS `ncGeneral`, `factura1`.`chequeGeneral`     AS `chequeGeneral`, `factura1`.`targetaGeneral`    AS `targetaGeneral`, `factura1`.`totalGeneral`      AS `totalGeneral`, `factura1`.`descuentoGeneral`  AS `descuentoGeneral`, `factura1`.`ivaGeneral`        AS `ivaGeneral`, `factura1`.`subtotalGeneral`   AS `subtotalGeneral`, `factura1`.`comprobante`       AS `comprobante`, `factura1`.`cotizacion`        AS `cotizacion`, `factura1`.`anulada`           AS `anulada`, `factura1`.`anula`             AS `anula`, `factura1`.`credito`           AS `credito`, `factura1`.`cxc`               AS `cxc`, `factura1`.`usuario`           AS `usuario`, `factura1`.`rtIva`             AS `rtIva`, `factura1`.`rtIca`             AS `rtIca`, `factura1`.`rtFuente`          AS `rtFuente`, `factura1`.`otros`             AS `otros`, `factura1`.`observacion`       AS `observacion`, `factura1`.`anulada1`          AS `anulada1`, `factura1`.`anula1`            AS `anula1`, `factura1`.`credito1`          AS `credito1`, `factura1`.`cxc1`              AS `cxc1`, `factura1`.`usuario1`          AS `usuario1`, `factura1`.`fechaAlerta`       AS `fechaAlerta`, `factura1`.`terminal`          AS `terminal`, `factura1`.`estadoGeneral`     AS `estadoGeneral`, `factura1`.`estado2`           AS `estado2`, `factura1`.`devuelta`          AS `devuelta`, `factura1`.`factura`           AS `factura`, `factura1`.`resolucion`        AS `resolucion`, `factura1`.`fechaAnulacion`    AS `fechaAnulacion`, `factura1`.`cuadreAnulacion`   AS `cuadreAnulacion`, `factura1`.`usuarioAnula`      AS `usuarioAnula`, `factura1`.`copago`            AS `copago`, `factura1`.`garantia`          AS `garantia`, `factura1`.`diasGarantia`      AS `diasGarantia`, `factura1`.`rango`             AS `rango`, `factura1`.`terminos`          AS `terminos`, `factura1`.`notaAnulacion`     AS `notaAnulacion`, `factura1`.`conseMesa`         AS `conseMesa`, `factura1`.`producto`          AS `producto`, `factura1`.`lista`             AS `lista`, `factura1`.`cantidad`          AS `cantidad`, `factura1`.`descuento`         AS `descuento`, `factura1`.`total`             AS `total`, `factura1`.`iva`               AS `iva`, `factura1`.`subtotal`          AS `subtotal`, `factura1`.`NC`                AS `NC`, `factura1`.`utilidad`          AS `utilidad`, `factura1`.`concepto`          AS `concepto`, `factura1`.`porcDescuento`     AS `porcDescuento`, `factura1`.`descripcion`       AS `descripcion`, `factura1`.`plu`               AS `plu`, `factura1`.`cant2`             AS `cant2`, `factura1`.`estado`            AS `estado`, `factura1`.`porcIva`           AS `porcIva`, `factura1`.`tercero`           AS `tercero`, `factura1`.`utilidad1`         AS `utilidad1`, `factura1`.`nombre`            AS `nombre`, `factura1`.`telefono`          AS `telefono`, `factura1`.`direccion`         AS `direccion`, `factura1`.`cuotaInicial2`     AS `cuotaInicial2`, `factura1`.`id2`               AS `id2`, `factura1`.`ubicacion1`        AS `ubicacion1`, `factura1`.`referencia`        AS `referencia`, `factura1`.`valor3`            AS `valor3`, `factura1`.`impuesto`          AS `impuesto`, `factura1`.`plazo`             AS `plazo`, `factura1`.`nombreContacto`    AS `nombreContacto`, `factura1`.`cargo`             AS `cargo`, `factura1`.`turno`             AS `turno`, `factura1`.`Grupo`             AS `Grupo`, `factura1`.`eps`               AS `eps`, `factura1`.`nombreEps`         AS `nombreEps`, `factura1`.`Id`                AS `Id`, `factura1`.`placa`             AS `placa`, `factura1`.`tipo`              AS `tipo`, `factura1`.`fIngreso`          AS `fIngreso`, `factura1`.`fSalida`           AS `fSalida`, `factura1`.`hIngreso`          AS `hIngreso`, `factura1`.`hSalida`           AS `hSalida`, `factura1`.`horas`             AS `horas`, `factura1`.`imei`              AS `imei`, `factura1`.`color`             AS `color`, `factura1`.`idSistema`         AS `idSistema`, `factura1`.`impoconsumo`       AS `impoconsumo`, `factura1`.`Codigo`            AS `Codigo`, `factura1`.`totalPropina`      AS `totalPropina`, `factura1`.`hora`              AS `hora`, `factura1`.`idProd`            AS `idProd`, `factura1`.`nombreGrupo`       AS `nombreGrupo`, `factura1`.`impoGeneral`       AS `impoGeneral`, `factura1`.`porcImpo`          AS `porcImpo`, `factura1`.`bodega`            AS `bodega`, `factura1`.`codEstandar`       AS `codEstandar`, `factura1`.`unidad`            AS `unidad`, `factura1`.`manejaInventario`  AS `manejaInventario`, `bdmaestra`.`anexoFacturacion` AS `anexoFacturacion`, IF(`factura1`.`plazo` <> 0,`factura1`.`plazo`,'0') AS `plazo1`, `factura1`.`trm`               AS `trm`, `factura1`.`fechatrm`          AS `fechatrm`, `factura1`.`numeroOrdenCompra`          AS `numeroOrdenCompra` FROM (`factura1` JOIN `bdmaestra`) ORDER BY `factura1`.`Id`) */;
/*!50001 ALTER ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `facturaciontablas` AS  SELECT `bdfactura`.`idFactura`    AS `idFactura`, `bdfactura`.`factura`      AS `factura`, `bdfactura`.`fechaFactura` AS `fechaFactura`, `bdfactura`.`cliente`      AS `clienteId`, `bdterceros`.`nombre`      AS `nombre`, `bdfactura`.`vendedor`     AS `vendedor`, `bdfactura`.`totalGeneral` AS `totalGeneral`, `bdfactura`.`terminal`     AS `terminal`, `bdfactura`.`anulada`      AS `anulada`, CAST(SUBSTR(`bdfactura`.`idFactura`,6,100) AS SIGNED) AS `ordenId`, `bdfactura`.`turno`        AS `turno`, `bdterceros`.`id`          AS `cliente`, `bdfactura`.`resolucion`   AS `resolucion` FROM (`bdfactura` LEFT JOIN `bdterceros` ON (`bdfactura`.`cliente` = `bdterceros`.`idSistema`)) GROUP BY `bdfactura`.`idFactura`,`bdfactura`.`factura`,`bdfactura`.`fechaFactura`,`bdfactura`.`cliente`,`bdterceros`.`nombre`,`bdfactura`.`vendedor`,`bdfactura`.`totalGeneral`,`bdfactura`.`terminal`,`bdfactura`.`anulada`,CAST(SUBSTR(`bdfactura`.`idFactura`,6,100)AS SIGNED),`bdfactura`.`turno`,`bdterceros`.`id` ORDER BY CAST(SUBSTR(`bdfactura`.`idFactura`,6,100)AS SIGNED) */;