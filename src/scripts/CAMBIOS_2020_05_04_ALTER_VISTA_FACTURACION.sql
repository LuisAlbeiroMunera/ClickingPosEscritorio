/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`click`@`localhost` SQL SECURITY DEFINER VIEW `facturacion2` AS ( SELECT `bdfactura`.`idFactura`        AS `idFactura`, CAST(SUBSTR(`bdfactura`.`idFactura`,6,100) AS SIGNED) AS `ordenId`, `bdterceros`.`nombre`          AS `nombre`, `bdterceros`.`id`              AS `cliente`, `bdfactura`.`vendedor`         AS `vendedor`, `bdfactura`.`red`              AS `red`, `bdfactura`.`fechaVencimiento` AS `fechaVencimiento`, `bdfactura`.`efectivoGeneral`  AS `efectivoGeneral`, `bdfactura`.`ncGeneral`        AS `ncGeneral`, `bdfactura`.`chequeGeneral`    AS `chequeGeneral`, `bdfactura`.`targetaGeneral`   AS `targetaGeneral`, `bdfactura`.`totalGeneral`     AS `totalGeneral`, `bdfactura`.`descuentoGeneral` AS `descuentoGeneral`, `bdfactura`.`ivaGeneral`       AS `ivaGeneral`, `bdfactura`.`subtotalGeneral`  AS `subtotalGeneral`, `bdfactura`.`comprobante`      AS `comprobante`, `bdfactura`.`cotizacion`       AS `cotizacion`, `bdfactura`.`anulada`          AS `anulada`, `bdfactura`.`anula`            AS `anula`, `bdfactura`.`credito`          AS `credito`, `bdfactura`.`cxc`              AS `cxc`, `bdfactura`.`usuario`          AS `usuario`, `bdfactura`.`rtIva`            AS `rtIva`, `bdfactura`.`rtIca`            AS `rtIca`, `bdfactura`.`rtFuente`         AS `rtFuente`, `bdfactura`.`otros`            AS `otros`, `bdfactura`.`observacion`      AS `observacion`, `bdfactura`.`anulada1`         AS `anulada1`, `bdfactura`.`anula1`           AS `anula1`, `bdfactura`.`credito1`         AS `credito1`, `bdfactura`.`cxc1`             AS `cxc1`, `bdfactura`.`usuario1`         AS `usuario1`, `bdfactura`.`fechaAlerta`      AS `fechaAlerta`, `bdfactura`.`terminal`         AS `terminal`, `bdfactura`.`estadoGeneral`    AS `estadoGeneral`, `bdfactura`.`estado2`          AS `estado2`, `bdfactura`.`devuelta`         AS `devuelta`, `bdfactura`.`factura`          AS `factura`, `bdfactura`.`resolucion`       AS `resolucion`, `bdfactura`.`fechaAnulacion`   AS `fechaAnulacion`, `bdfactura`.`cuadreAnulacion`  AS `cuadreAnulacion`, `bdfactura`.`usuarioAnula`     AS `usuarioAnula`, `bdfactura`.`placa`            AS `placa`, `bdfactura`.`garantia`         AS `garantia`, `bdfactura`.`diasGarantia`     AS `diasGarantia`, `bdfactura`.`rango`            AS `rango`, `bdfactura`.`terminos`         AS `terminos`, `bdfactura`.`notaAnulacion`    AS `notaAnulacion`, `bdfactura`.`conseMesa`        AS `conseMesa`, `bdfactura`.`factura`          AS `id2`, `bdfactura`.`copago`           AS `copago`, `bdprestamo`.`cuotaInicial`    AS `cuotaInicial2`, CAST(`bdfactura`.`fechaFactura` AS DATE) AS `fechaFactura`, `bdfactura`.`turno`            AS `turno`, `bdfactura`.`impuesto`         AS `impuesto`, `bdterceros`.`idSistema`       AS `idSistema`, CAST(`bdfactura`.`fechaFactura` AS DATE) AS `fechaFactura1`, `bdfactura`.`impoGeneral`      AS `impoconsumo`, `bdfactura`.`tarjetaCredito`   AS `tarjetaCredito`, `bdfactura`.`franquisia`       AS `franquisia`, `bdfactura`.`hora`             AS `hora`, `bdfactura`.`valorComision`    AS `valorComision`, `bdfactura`.`totalPropina`     AS `totalPropina`, `bdfactura`.`sisteCredito`     AS `sisteCredito`, `bdfactura`.`bodega`           AS `bodega` FROM ((`bdfactura` LEFT JOIN `bdprestamo` ON (`bdfactura`.`idFactura` = `bdprestamo`.`factura`)) LEFT JOIN `bdterceros` ON (`bdfactura`.`cliente` = `bdterceros`.`idSistema`)) GROUP BY `bdfactura`.`idFactura`,CAST(SUBSTR(`bdfactura`.`idFactura`,6,100)AS SIGNED),`bdterceros`.`nombre`,`bdterceros`.`id`,`bdfactura`.`vendedor`,`bdfactura`.`red`,`bdfactura`.`fechaVencimiento`,`bdfactura`.`efectivoGeneral`,`bdfactura`.`ncGeneral`,`bdfactura`.`chequeGeneral`,`bdfactura`.`targetaGeneral`,`bdfactura`.`totalGeneral`,`bdfactura`.`descuentoGeneral`,`bdfactura`.`ivaGeneral`,`bdfactura`.`subtotalGeneral`,`bdfactura`.`comprobante`,`bdfactura`.`cotizacion`,`bdfactura`.`anulada`,`bdfactura`.`anula`,`bdfactura`.`credito`,`bdfactura`.`cxc`,`bdfactura`.`usuario`,`bdfactura`.`rtIva`,`bdfactura`.`rtIca`,`bdfactura`.`rtFuente`,`bdfactura`.`otros`,`bdfactura`.`anulada1`,`bdfactura`.`anula1`,`bdfactura`.`credito1`,`bdfactura`.`cxc1`,`bdfactura`.`usuario1`,`bdfactura`.`fechaAlerta`,`bdfactura`.`terminal`,`bdfactura`.`estadoGeneral`,`bdfactura`.`estado2`,`bdfactura`.`devuelta`,`bdfactura`.`resolucion`,`bdfactura`.`fechaAnulacion`,`bdfactura`.`cuadreAnulacion`,`bdfactura`.`usuarioAnula`,`bdfactura`.`placa`,`bdfactura`.`garantia`,`bdfactura`.`diasGarantia`,`bdfactura`.`rango`,`bdfactura`.`conseMesa`,`bdfactura`.`factura`,`bdfactura`.`copago`,`bdprestamo`.`cuotaInicial`,`bdfactura`.`turno`,`bdfactura`.`impuesto`,`bdterceros`.`idSistema`,CAST(FORMAT(`bdfactura`.`fechaFactura`,'yyyy/mm/dd')AS DATE),`bdfactura`.`impoGeneral`,CAST(FORMAT(`bdfactura`.`fechaFactura`,'yyyy/mm/dd')AS DATE),`bdfactura`.`tarjetaCredito`,`bdfactura`.`franquisia`,`bdfactura`.`hora`,`bdfactura`.`valorComision`,`bdfactura`.`totalPropina`,`bdfactura`.`sisteCredito`,`bdfactura`.`bodega` ORDER BY CAST(SUBSTR(`bdfactura`.`idFactura`,6,100)AS SIGNED)) */;
/*!50001  ALTER ALGORITHM=UNDEFINED DEFINER=`click`@`localhost` SQL SECURITY DEFINER VIEW `facturacion` AS ( SELECT `bdfactura`.`idFactura`        AS `idFactura`, CAST(SUBSTR(`bdfactura`.`idFactura`,6,100) AS SIGNED) AS `ordenId`, `bdterceros`.`nombre`          AS `nombre`, `bdterceros`.`id`              AS `cliente`, `bdfactura`.`vendedor`         AS `vendedor`, `bdfactura`.`red`              AS `red`, `bdfactura`.`fechaVencimiento` AS `fechaVencimiento`, `bdfactura`.`efectivoGeneral`  AS `efectivoGeneral`, `bdfactura`.`ncGeneral`        AS `ncGeneral`, `bdfactura`.`chequeGeneral`    AS `chequeGeneral`, `bdfactura`.`targetaGeneral`   AS `targetaGeneral`, `bdfactura`.`totalGeneral`     AS `totalGeneral`, `bdfactura`.`descuentoGeneral` AS `descuentoGeneral`, `bdfactura`.`ivaGeneral`       AS `ivaGeneral`, `bdfactura`.`subtotalGeneral`  AS `subtotalGeneral`, `bdfactura`.`comprobante`      AS `comprobante`, `bdfactura`.`cotizacion`       AS `cotizacion`, `bdfactura`.`anulada`          AS `anulada`, `bdfactura`.`anula`            AS `anula`, `bdfactura`.`credito`          AS `credito`, `bdfactura`.`cxc`              AS `cxc`, `bdfactura`.`usuario`          AS `usuario`, `bdfactura`.`rtIva`            AS `rtIva`, `bdfactura`.`rtIca`            AS `rtIca`, `bdfactura`.`rtFuente`         AS `rtFuente`, `bdfactura`.`otros`            AS `otros`, `bdfactura`.`observacion`      AS `observacion`, `bdfactura`.`anulada1`         AS `anulada1`, `bdfactura`.`anula1`           AS `anula1`, `bdfactura`.`credito1`         AS `credito1`, `bdfactura`.`cxc1`             AS `cxc1`, `bdfactura`.`usuario1`         AS `usuario1`, `bdfactura`.`fechaAlerta`      AS `fechaAlerta`, `bdfactura`.`terminal`         AS `terminal`, `bdfactura`.`estadoGeneral`    AS `estadoGeneral`, `bdfactura`.`estado2`          AS `estado2`, `bdfactura`.`devuelta`         AS `devuelta`, `bdfactura`.`factura`          AS `factura`, `bdfactura`.`resolucion`       AS `resolucion`, `bdfactura`.`fechaAnulacion`   AS `fechaAnulacion`, `bdfactura`.`cuadreAnulacion`  AS `cuadreAnulacion`, `bdfactura`.`usuarioAnula`     AS `usuarioAnula`, `bdfactura`.`placa`            AS `placa`, `bdfactura`.`garantia`         AS `garantia`, `bdfactura`.`diasGarantia`     AS `diasGarantia`, ""                             AS `rango`, `bdfactura`.`terminos`         AS `terminos`, `bdfactura`.`notaAnulacion`    AS `notaAnulacion`, ""                             AS `conseMesa`, `bdfactura`.`factura`          AS `id2`, `bdfactura`.`copago`           AS `copago`, `bdprestamo`.`cuotaInicial`    AS `cuotaInicial2`, CAST(`bdfactura`.`fechaFactura` AS DATE) AS `fechaFactura`, `bdfactura`.`turno`            AS `turno`, `bdfactura`.`impuesto`         AS `impuesto`, `bdterceros`.`idSistema`       AS `idSistema`, CAST(`bdfactura`.`fechaFactura` AS DATE) AS `fechaFactura1`, `bdfactura`.`impoGeneral`      AS `impoconsumo`, `bdfactura`.`tarjetaCredito`   AS `tarjetaCredito`, `bdfactura`.`franquisia`       AS `franquisia`, `bdfactura`.`hora`             AS `hora`, `bdfactura`.`valorComision`    AS `valorComision`, `bdfactura`.`totalPropina`     AS `totalPropina`, `bdfactura`.`sisteCredito`     AS `sisteCredito`, `bdfactura`.`bodega`           AS `bodega` FROM ((`bdfactura` LEFT JOIN `bdprestamo` ON (`bdfactura`.`idFactura` = `bdprestamo`.`factura`)) LEFT JOIN `bdterceros` ON (`bdfactura`.`cliente` = `bdterceros`.`idSistema`)) GROUP BY `bdfactura`.`idFactura`,CAST(SUBSTR(`bdfactura`.`idFactura`,6,100)AS SIGNED),`bdterceros`.`nombre`,`bdterceros`.`id`,`bdfactura`.`vendedor`,`bdfactura`.`red`,`bdfactura`.`fechaVencimiento`,`bdfactura`.`efectivoGeneral`,`bdfactura`.`ncGeneral`,`bdfactura`.`chequeGeneral`,`bdfactura`.`targetaGeneral`,`bdfactura`.`totalGeneral`,`bdfactura`.`descuentoGeneral`,`bdfactura`.`ivaGeneral`,`bdfactura`.`subtotalGeneral`,`bdfactura`.`comprobante`,`bdfactura`.`cotizacion`,`bdfactura`.`anulada`,`bdfactura`.`anula`,`bdfactura`.`credito`,`bdfactura`.`cxc`,`bdfactura`.`usuario`,`bdfactura`.`rtIva`,`bdfactura`.`rtIca`,`bdfactura`.`rtFuente`,`bdfactura`.`otros`,`bdfactura`.`anulada1`,`bdfactura`.`anula1`,`bdfactura`.`credito1`,`bdfactura`.`cxc1`,`bdfactura`.`usuario1`,`bdfactura`.`fechaAlerta`,`bdfactura`.`terminal`,`bdfactura`.`estadoGeneral`,`bdfactura`.`estado2`,`bdfactura`.`devuelta`,`bdfactura`.`resolucion`,`bdfactura`.`fechaAnulacion`,`bdfactura`.`cuadreAnulacion`,`bdfactura`.`usuarioAnula`,`bdfactura`.`placa`,`bdfactura`.`garantia`,`bdfactura`.`diasGarantia`,`bdfactura`.`factura`,`bdfactura`.`copago`,`bdprestamo`.`cuotaInicial`,`bdfactura`.`turno`,`bdfactura`.`impuesto`,`bdterceros`.`idSistema`,CAST(FORMAT(`bdfactura`.`fechaFactura`,'yyyy/mm/dd')AS DATE),`bdfactura`.`impoGeneral`,CAST(FORMAT(`bdfactura`.`fechaFactura`,'yyyy/mm/dd')AS DATE),`bdfactura`.`tarjetaCredito`,`bdfactura`.`franquisia`,`bdfactura`.`hora`,`bdfactura`.`valorComision`,`bdfactura`.`totalPropina`,`bdfactura`.`sisteCredito`,`bdfactura`.`bodega` ) */;
ALTER TABLE bdmaestra MODIFY pie VARCHAR(2000);
ALTER TABLE bdmaestra MODIFY legal VARCHAR(2000);