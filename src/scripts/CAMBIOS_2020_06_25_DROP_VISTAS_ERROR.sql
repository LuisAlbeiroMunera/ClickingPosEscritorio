/*!50001 DROP VIEW IF EXISTS `repcartera2` */;
/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`click`@`localhost` SQL SECURITY DEFINER VIEW `repcartera2` AS select `reppendientes`.`factura` AS `fact`,`reppendientes`.`tipo` AS `tipo`,`reppendientes`.`estado` AS `estado`,`reppendientes`.`recibo` AS `recibo`,`reppendientes`.`plazo` AS `plazo`,`reppendientes`.`vencimiento` AS `vencimiento`,`reppendientes`.`cliente` AS `cliente`,`reppendientes`.`nombre` AS `nombre`,`reppendientes`.`fechaFactura` AS `fechaFactura`,`reppendientes`.`anulada` AS `anulada`,if(isnull(`repcartera`.`valor`),`reppendientes`.`valor`,(`reppendientes`.`valor` - `repcartera`.`valor`)) AS `Expr1`,`reppendientes`.`vendedor` AS `vendedor`,`reppendientes`.`factura` AS `factura`,`reppendientes`.`terminal` AS `terminal`,`reppendientes`.`factura2` AS `factura2`,`reppendientes`.`valor` AS `valor`,`reppendientes`.`telefono` AS `telefono`,cast((`reppendientes`.`vencimiento` - cast(now() as date)) as signed) AS `edadCartera`,if((cast(now() as date) >= `reppendientes`.`vencimiento`),'VENCIDA','OK') AS `estadoVenc`,`reppendientes`.`turno` AS `turno`,`reppendientes`.`placa` AS `placa`,`reppendientes`.`direccion` AS `direccion`,`reppendientes`.`ciudad` AS `ciudad`,`reppendientes`.`idSistema` AS `idSistema`,`reppendientes`.`conseMesa` AS `conseMesa` from (`reppendientes` left join `repcartera` on((`reppendientes`.`factura2` = `repcartera`.`fact`))) group by `reppendientes`.`factura`,`reppendientes`.`tipo`,`reppendientes`.`estado`,`reppendientes`.`recibo`,`reppendientes`.`plazo`,`reppendientes`.`vencimiento`,`reppendientes`.`cliente`,`reppendientes`.`nombre`,`reppendientes`.`fechaFactura`,`reppendientes`.`anulada`,if(isnull(`repcartera`.`valor`),`reppendientes`.`valor`,(`reppendientes`.`valor` - `repcartera`.`valor`)),`reppendientes`.`vendedor`,`reppendientes`.`terminal`,`reppendientes`.`valor`,`reppendientes`.`telefono`,`reppendientes`.`turno`,`reppendientes`.`placa`,`reppendientes`.`direccion`,`reppendientes`.`idSistema`,`reppendientes`.`conseMesa` having (`reppendientes`.`tipo` = 'FACT') */;

/*!50001 DROP VIEW IF EXISTS `repcarterapendientecuentacobro` */;
/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`click`@`localhost` SQL SECURITY DEFINER VIEW `repcarterapendientecuentacobro` AS select `reppendientescuentacobro`.`factura` AS `fact`,`reppendientescuentacobro`.`tipo` AS `tipo`,`reppendientescuentacobro`.`estado` AS `estado`,`reppendientescuentacobro`.`recibo` AS `recibo`,`reppendientescuentacobro`.`plazo` AS `plazo`,`reppendientescuentacobro`.`vencimiento` AS `vencimiento`,`reppendientescuentacobro`.`cliente` AS `cliente`,`reppendientescuentacobro`.`nombre` AS `nombre`,`reppendientescuentacobro`.`fechaFactura` AS `fechaFactura`,`reppendientescuentacobro`.`anulada` AS `anulada`,if(isnull(`repcarteracuentacobro`.`valor`),`reppendientescuentacobro`.`valor`,(`reppendientescuentacobro`.`valor` - `repcarteracuentacobro`.`valor`)) AS `Expr1`,`reppendientescuentacobro`.`vendedor` AS `vendedor`,`reppendientescuentacobro`.`factura` AS `factura`,`reppendientescuentacobro`.`terminal` AS `terminal`,`reppendientescuentacobro`.`valor` AS `valor`,`reppendientescuentacobro`.`telefono` AS `telefono`,cast((`reppendientescuentacobro`.`vencimiento` - curdate()) as signed) AS `edadCartera`,if((now() >= `reppendientescuentacobro`.`vencimiento`),'VENCIDA','OK') AS `estadoVenc`,`reppendientescuentacobro`.`placa` AS `placa`,`reppendientescuentacobro`.`direccion` AS `direccion`,`reppendientescuentacobro`.`ciudad` AS `ciudad`,`reppendientescuentacobro`.`idSistema` AS `idSistema` from (`reppendientescuentacobro` left join `repcarteracuentacobro` on((`reppendientescuentacobro`.`fact` = `repcarteracuentacobro`.`fact`))) group by `reppendientescuentacobro`.`factura`,`reppendientescuentacobro`.`tipo`,`reppendientescuentacobro`.`estado`,`reppendientescuentacobro`.`recibo`,`reppendientescuentacobro`.`plazo`,`reppendientescuentacobro`.`vencimiento`,`reppendientescuentacobro`.`cliente`,`reppendientescuentacobro`.`nombre`,`reppendientescuentacobro`.`fechaFactura`,`reppendientescuentacobro`.`anulada`,if(isnull(`repcarteracuentacobro`.`valor`),`reppendientescuentacobro`.`valor`,(`reppendientescuentacobro`.`valor` - `repcarteracuentacobro`.`valor`)),`reppendientescuentacobro`.`vendedor`,`reppendientescuentacobro`.`terminal`,`reppendientescuentacobro`.`valor`,`reppendientescuentacobro`.`telefono`,`reppendientescuentacobro`.`placa`,`reppendientescuentacobro`.`direccion`,`reppendientescuentacobro`.`ciudad`,`reppendientescuentacobro`.`idSistema` having (`reppendientescuentacobro`.`tipo` = 'CUENTACOBRO') */;

/*!50001 DROP VIEW IF EXISTS `repcarterapendientesepares` */;
/*!50001 CREATE ALGORITHM=UNDEFINED DEFINER=`click`@`localhost` SQL SECURITY DEFINER VIEW `repcarterapendientesepares` AS select `reppendientessepares`.`factura` AS `fact`,`reppendientessepares`.`tipo` AS `tipo`,`reppendientessepares`.`estado` AS `estado`,`reppendientessepares`.`recibo` AS `recibo`,`reppendientessepares`.`plazo` AS `plazo`,`reppendientessepares`.`vencimiento` AS `vencimiento`,`reppendientessepares`.`cliente` AS `cliente`,`reppendientessepares`.`nombre` AS `nombre`,`reppendientessepares`.`fechaFactura` AS `fechaFactura`,`reppendientessepares`.`anulada` AS `anulada`,if(isnull(`repcarterasepares`.`valor`),`reppendientessepares`.`valor`,(`reppendientessepares`.`valor` - `repcarterasepares`.`valor`)) AS `Expr1`,`reppendientessepares`.`vendedor` AS `vendedor`,`reppendientessepares`.`factura` AS `factura`,`reppendientessepares`.`terminal` AS `terminal`,`reppendientessepares`.`valor` AS `valor`,`reppendientessepares`.`telefono` AS `telefono`,cast((`reppendientessepares`.`vencimiento` - curdate()) as signed) AS `edadCartera`,if((now() >= `reppendientessepares`.`vencimiento`),'VENCIDA','OK') AS `estadoVenc`,`reppendientessepares`.`placa` AS `placa`,`reppendientessepares`.`direccion` AS `direccion`,`reppendientessepares`.`ciudad` AS `ciudad`,`reppendientessepares`.`idSistema` AS `idSistema` from (`reppendientessepares` left join `repcarterasepares` on((`reppendientessepares`.`fact` = `repcarterasepares`.`fact`))) group by `reppendientessepares`.`factura`,`reppendientessepares`.`tipo`,`reppendientessepares`.`estado`,`reppendientessepares`.`recibo`,`reppendientessepares`.`plazo`,`reppendientessepares`.`vencimiento`,`reppendientessepares`.`cliente`,`reppendientessepares`.`nombre`,`reppendientessepares`.`fechaFactura`,`reppendientessepares`.`anulada`,if(isnull(`repcarterasepares`.`valor`),`reppendientessepares`.`valor`,(`reppendientessepares`.`valor` - `repcarterasepares`.`valor`)),`reppendientessepares`.`vendedor`,`reppendientessepares`.`terminal`,`reppendientessepares`.`valor`,`reppendientessepares`.`telefono`,`reppendientessepares`.`placa`,`reppendientessepares`.`direccion`,`reppendientessepares`.`ciudad`,`reppendientessepares`.`idSistema` having (`reppendientessepares`.`tipo` = 'SEPARE') */;
