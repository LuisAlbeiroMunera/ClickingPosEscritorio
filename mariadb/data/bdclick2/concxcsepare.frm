TYPE=VIEW
query=(select `bdclick2`.`bdplansepare`.`factura` AS `facturaTerm`,`bdclick2`.`bdcxc`.`factura` AS `factura`,`bdclick2`.`bdcxc`.`tipo` AS `tipo`,`bdclick2`.`bdcxc`.`estado` AS `estado`,`bdclick2`.`bdplansepare`.`cliente` AS `cliente1`,`bdclick2`.`bdterceros`.`nombre` AS `nombre`,`bdclick2`.`bdplansepare`.`fechaFactura` AS `fechaFactura`,`bdclick2`.`bdplansepare`.`fechaVencimiento` AS `fechaVencimiento`,`bdclick2`.`bdcxc`.`valor` AS `valor`,`bdclick2`.`bdplansepare`.`anulada` AS `anulada`,`bdclick2`.`bdplansepare`.`fechaAlerta` AS `fechaAlerta`,if(((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaAlerta`) and (cast(now() as date) < `bdclick2`.`bdplansepare`.`fechaVencimiento`)),\'ALERTA\',if((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaVencimiento`),\'VENCIDA\',\'OK\')) AS `estadoVencimiento`,if(((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaAlerta`) and (cast(now() as date) < `bdclick2`.`bdplansepare`.`fechaVencimiento`)),\'2\',if((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaVencimiento`),\'1\',\'3\')) AS `orden`,`bdclick2`.`bdplansepare`.`terminal` AS `terminal`,`bdclick2`.`bdcxc`.`cuotas` AS `cuotas`,if(isnull(`bdclick2`.`repcarterasepares`.`valor`),`bdclick2`.`bdcxc`.`valor`,(`bdclick2`.`bdcxc`.`valor` - `bdclick2`.`repcarterasepares`.`valor`)) AS `saldo`,cast(substr(`bdclick2`.`bdplansepare`.`idFactura`,8,100) as signed) AS `ordenId`,(to_days(`bdclick2`.`bdplansepare`.`fechaVencimiento`) - to_days(cast(now() as date))) AS `edadCartera`,`bdclick2`.`bdterceros`.`id` AS `cliente` from (`bdclick2`.`bdterceros` left join ((`bdclick2`.`bdplansepare` left join `bdclick2`.`bdcxc` on((`bdclick2`.`bdplansepare`.`idFactura` = `bdclick2`.`bdcxc`.`factura`))) left join `bdclick2`.`repcarterasepares` on((`bdclick2`.`bdplansepare`.`idFactura` = `bdclick2`.`repcarterasepares`.`fact`))) on((`bdclick2`.`bdterceros`.`idSistema` = `bdclick2`.`bdplansepare`.`cliente`))) group by `bdclick2`.`bdcxc`.`factura`,`bdclick2`.`bdcxc`.`tipo`,`bdclick2`.`bdcxc`.`estado`,`bdclick2`.`bdterceros`.`nombre`,`bdclick2`.`bdcxc`.`valor`,if(((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaAlerta`) and (cast(now() as date) < `bdclick2`.`bdplansepare`.`fechaVencimiento`)),\'ALERTA\',if((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaVencimiento`),\'VENCIDA\',\'OK\')),if(((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaAlerta`) and (cast(now() as date) < `bdclick2`.`bdplansepare`.`fechaVencimiento`)),\'2\',if((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaVencimiento`),\'1\',\'3\')),`bdclick2`.`bdcxc`.`cuotas`,if(isnull(`bdclick2`.`repcarterasepares`.`valor`),`bdclick2`.`bdcxc`.`valor`,(`bdclick2`.`bdcxc`.`valor` - `bdclick2`.`repcarterasepares`.`valor`)),cast(substr(`bdclick2`.`bdplansepare`.`idFactura`,8,100) as signed),cast((`bdclick2`.`bdplansepare`.`fechaVencimiento` - cast(now() as date)) as signed),`bdclick2`.`bdterceros`.`id` having ((`bdclick2`.`bdcxc`.`factura` <> \'0\') and (`bdclick2`.`bdcxc`.`tipo` = \'SEPARE\') and (`bdclick2`.`bdcxc`.`estado` = \'PEND\') and (`bdclick2`.`bdplansepare`.`anulada` = 0)))
md5=a2e608e779e2bab9d64cf7fb80bf343e
updatable=0
algorithm=0
definer_user=root
definer_host=localhost
suid=1
with_check_option=0
timestamp=2019-11-13 21:37:43
create-version=2
source=(select `bdplansepare`.`factura` AS `facturaTerm`,`bdcxc`.`factura` AS `factura`,`bdcxc`.`tipo` AS `tipo`,`bdcxc`.`estado` AS `estado`,`bdplansepare`.`cliente` AS `cliente1`,`bdterceros`.`nombre` AS `nombre`,`bdplansepare`.`fechaFactura` AS `fechaFactura`,`bdplansepare`.`fechaVencimiento` AS `fechaVencimiento`,`bdcxc`.`valor` AS `valor`,`bdplansepare`.`anulada` AS `anulada`,`bdplansepare`.`fechaAlerta` AS `fechaAlerta`,if(((cast(now() as date) >= `bdplansepare`.`fechaAlerta`) and (cast(now() as date) < `bdplansepare`.`fechaVencimiento`)),\'ALERTA\',if((cast(now() as date) >= `bdplansepare`.`fechaVencimiento`),\'VENCIDA\',\'OK\')) AS `estadoVencimiento`,if(((cast(now() as date) >= `bdplansepare`.`fechaAlerta`) and (cast(now() as date) < `bdplansepare`.`fechaVencimiento`)),\'2\',if((cast(now() as date) >= `bdplansepare`.`fechaVencimiento`),\'1\',\'3\')) AS `orden`,`bdplansepare`.`terminal` AS `terminal`,`bdcxc`.`cuotas` AS `cuotas`,if(isnull(`repcarterasepares`.`valor`),`bdcxc`.`valor`,(`bdcxc`.`valor` - `repcarterasepares`.`valor`)) AS `saldo`,cast(substr(`bdplansepare`.`idFactura`,8,100) as signed) AS `ordenId`,(to_days(`bdplansepare`.`fechaVencimiento`) - to_days(cast(now() as date))) AS `edadCartera`,`bdterceros`.`id` AS `cliente` from (`bdterceros` left join ((`bdplansepare` left join `bdcxc` on((`bdplansepare`.`idFactura` = `bdcxc`.`factura`))) left join `repcarterasepares` on((`bdplansepare`.`idFactura` = `repcarterasepares`.`fact`))) on((`bdterceros`.`idSistema` = `bdplansepare`.`cliente`))) group by `bdcxc`.`factura`,`bdcxc`.`tipo`,`bdcxc`.`estado`,`bdterceros`.`nombre`,`bdcxc`.`valor`,if(((cast(now() as date) >= `bdplansepare`.`fechaAlerta`) and (cast(now() as date) < `bdplansepare`.`fechaVencimiento`)),\'ALERTA\',if((cast(now() as date) >= `bdplansepare`.`fechaVencimiento`),\'VENCIDA\',\'OK\')),if(((cast(now() as date) >= `bdplansepare`.`fechaAlerta`) and (cast(now() as date) < `bdplansepare`.`fechaVencimiento`)),\'2\',if((cast(now() as date) >= `bdplansepare`.`fechaVencimiento`),\'1\',\'3\')),`bdcxc`.`cuotas`,if(isnull(`repcarterasepares`.`valor`),`bdcxc`.`valor`,(`bdcxc`.`valor` - `repcarterasepares`.`valor`)),cast(substr(`bdplansepare`.`idFactura`,8,100) as signed),cast((`bdplansepare`.`fechaVencimiento` - cast(now() as date)) as signed),`bdterceros`.`id` having ((`bdcxc`.`factura` <> \'0\') and (`bdcxc`.`tipo` = \'SEPARE\') and (`bdcxc`.`estado` = \'PEND\') and (`bdplansepare`.`anulada` = 0)))
client_cs_name=utf8
connection_cl_name=utf8_general_ci
view_body_utf8=(select `bdclick2`.`bdplansepare`.`factura` AS `facturaTerm`,`bdclick2`.`bdcxc`.`factura` AS `factura`,`bdclick2`.`bdcxc`.`tipo` AS `tipo`,`bdclick2`.`bdcxc`.`estado` AS `estado`,`bdclick2`.`bdplansepare`.`cliente` AS `cliente1`,`bdclick2`.`bdterceros`.`nombre` AS `nombre`,`bdclick2`.`bdplansepare`.`fechaFactura` AS `fechaFactura`,`bdclick2`.`bdplansepare`.`fechaVencimiento` AS `fechaVencimiento`,`bdclick2`.`bdcxc`.`valor` AS `valor`,`bdclick2`.`bdplansepare`.`anulada` AS `anulada`,`bdclick2`.`bdplansepare`.`fechaAlerta` AS `fechaAlerta`,if(((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaAlerta`) and (cast(now() as date) < `bdclick2`.`bdplansepare`.`fechaVencimiento`)),\'ALERTA\',if((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaVencimiento`),\'VENCIDA\',\'OK\')) AS `estadoVencimiento`,if(((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaAlerta`) and (cast(now() as date) < `bdclick2`.`bdplansepare`.`fechaVencimiento`)),\'2\',if((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaVencimiento`),\'1\',\'3\')) AS `orden`,`bdclick2`.`bdplansepare`.`terminal` AS `terminal`,`bdclick2`.`bdcxc`.`cuotas` AS `cuotas`,if(isnull(`bdclick2`.`repcarterasepares`.`valor`),`bdclick2`.`bdcxc`.`valor`,(`bdclick2`.`bdcxc`.`valor` - `bdclick2`.`repcarterasepares`.`valor`)) AS `saldo`,cast(substr(`bdclick2`.`bdplansepare`.`idFactura`,8,100) as signed) AS `ordenId`,(to_days(`bdclick2`.`bdplansepare`.`fechaVencimiento`) - to_days(cast(now() as date))) AS `edadCartera`,`bdclick2`.`bdterceros`.`id` AS `cliente` from (`bdclick2`.`bdterceros` left join ((`bdclick2`.`bdplansepare` left join `bdclick2`.`bdcxc` on((`bdclick2`.`bdplansepare`.`idFactura` = `bdclick2`.`bdcxc`.`factura`))) left join `bdclick2`.`repcarterasepares` on((`bdclick2`.`bdplansepare`.`idFactura` = `bdclick2`.`repcarterasepares`.`fact`))) on((`bdclick2`.`bdterceros`.`idSistema` = `bdclick2`.`bdplansepare`.`cliente`))) group by `bdclick2`.`bdcxc`.`factura`,`bdclick2`.`bdcxc`.`tipo`,`bdclick2`.`bdcxc`.`estado`,`bdclick2`.`bdterceros`.`nombre`,`bdclick2`.`bdcxc`.`valor`,if(((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaAlerta`) and (cast(now() as date) < `bdclick2`.`bdplansepare`.`fechaVencimiento`)),\'ALERTA\',if((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaVencimiento`),\'VENCIDA\',\'OK\')),if(((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaAlerta`) and (cast(now() as date) < `bdclick2`.`bdplansepare`.`fechaVencimiento`)),\'2\',if((cast(now() as date) >= `bdclick2`.`bdplansepare`.`fechaVencimiento`),\'1\',\'3\')),`bdclick2`.`bdcxc`.`cuotas`,if(isnull(`bdclick2`.`repcarterasepares`.`valor`),`bdclick2`.`bdcxc`.`valor`,(`bdclick2`.`bdcxc`.`valor` - `bdclick2`.`repcarterasepares`.`valor`)),cast(substr(`bdclick2`.`bdplansepare`.`idFactura`,8,100) as signed),cast((`bdclick2`.`bdplansepare`.`fechaVencimiento` - cast(now() as date)) as signed),`bdclick2`.`bdterceros`.`id` having ((`bdclick2`.`bdcxc`.`factura` <> \'0\') and (`bdclick2`.`bdcxc`.`tipo` = \'SEPARE\') and (`bdclick2`.`bdcxc`.`estado` = \'PEND\') and (`bdclick2`.`bdplansepare`.`anulada` = 0)))
mariadb-version=100135
